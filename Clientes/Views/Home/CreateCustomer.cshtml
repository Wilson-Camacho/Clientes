@model Cliente
@{
    ViewData["Title"] = "CreateCustomer";
}
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <h2 class="mb-4">Formulario de Cliente</h2>
            <form id="formularioCreacion" asp-action="CreateCustomer" asp-controller="Home" method="post">
                <div class="form-group"> 
                    <label for="nombre">Nombre:</label>
                    <input asp-for="Nombre" type="text" class="form-control" placeholder="Ingresar nombre">
                    <span asp-validation-for="Nombre" class="text-danger"></span>
                </div>

                <div class="form-group">
                    <label for="apellido">Apellido:</label>
                    <input asp-for="Apellido" type="text" class="form-control" placeholder="Ingresar Apellido">
                    <span asp-validation-for="Apellido" class="text-danger"></span>
                </div>

                <div class="form-group">
                    <label for="documento">Documento DNI/NIE:</label>
                    <input id="idDocumento" asp-for="DocumentoIdentificacion" type="text" class="form-control" placeholder="Ingresar DNI/NIE">
                    <span asp-validation-for="DocumentoIdentificacion" class="text-danger"></span>
                </div>

                <div class="form-group">
                    <label for="email">Email:</label>
                    <input asp-for="Email" type="email" class="form-control" placeholder="Ingresar email">
                    <span asp-validation-for="Email" class="text-danger"></span>
                </div>

                <div class="form-group">
                    <label for="telefono">Telefono:</label>
                    <input asp-for="Telefono" type="text" class="form-control" placeholder="Ingresar telefono" id="Idtelefono">
                    <span asp-validation-for="Telefono" class="text-danger"></span>
                </div>
                
                <div class="form-group">
                    <label for="pais">Pais residencia</label>
                    <input asp-for="PaisResidencia" type="text" class="form-control" placeholder="Pais residencia">
                    <span asp-validation-for="PaisResidencia" class="text-danger"></span>
                </div>

                <div class="form-group">
                    <label for="fecha">Fecha nacimiento</label>
                    <input asp-for="FechaNacimiento" type="date" class="form-control" placeholder="Fecha de nacimiento">
                    <span asp-validation-for="FechaNacimiento" class="text-danger"></span>
                </div>

                <br/>
                <button type="submit" class="btn btn-primary">Guardar</button>
                <a asp-controller="Home" asp-action="Index" class="btn btn-warning">Volver a la lista</a>
            </form>
            <script>
                document.getElementById('formularioCreacion').addEventListener('submit', function (event) {
                    var documentoIdentificacion = document.getElementById('idDocumento').value;
                    console.log(documentoIdentificacion);
                    
                    var regexDNI = /^[XYZ]?\d{7,8}[A-Z]$/i;    
                    var dniValue = documentoIdentificacion.trim().toUpperCase();

                    if (!regexDNI.test(dniValue)) {
                        alert('Por favor introduce un DNI/NIE autentico');
                        event.preventDefault(); 
                    }

                });
            </script>
        </div>
    </div>
</div>
