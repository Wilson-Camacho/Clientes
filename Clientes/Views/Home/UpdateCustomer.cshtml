@model Cliente
@{
    ViewData["Title"] = "UpdateCustomer";
}

<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <h2 class="mb-4">Modificación cliente: </h2>
            <form id="formularioCreacion" asp-action="UpdateCustomer" asp-controller="Home" method="post">

                <input asp-for="IdCliente" type="hidden" class="form-control">

                @if (Model.Genero != null)
                {
                    <div class="form-group">
                        <label for="fecha">Genero: @Model.Genero</label>
                    </div>
                }
                @if (Model.CuentaTwitter != null)
                {
                    <div class="form-group">
                        <label for="cuentaTwitter">Cuenta twitter: @Model.CuentaTwitter</label>
                    </div>
                }

                @if (Model.NombreEmpresa != null)
                {
                    <div class="form-group">
                        <label for="fecha">Nombre Empresa: @Model.NombreEmpresa </label>
                    </div>
                }
                @if (Model.ClienteInteres != null && Model.ClienteInteres.SelectedOptions.Count > 0)
                {
                    <div class="form-group">
                        <label for="seleccionInteres">Intereses del cliente:</label>
                        <select class="form-select" asp-for="ClienteInteres.SelectedOptions" asp-items="@(new SelectList(Model.ClienteInteres.Intereses, nameof(Interes.IdInteres), nameof(Interes.Descripcion)))" multiple="multiple" disabled></select>
                    </div>
                }
                
                <div class="form-group">
                    <label for="nombre">Nombre:</label>
                    <input asp-for="Nombre" type="text" class="form-control" placeholder="Ingresar nombre">
                    <span asp-validation-for="Nombre" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label for="email">Apellido:</label>
                    <input asp-for="Apellido" type="text" class="form-control" placeholder="Ingresar Apellido">
                    <span asp-validation-for="Apellido" class="text-danger"></span>
                </div>

                <div class="form-group">
                    <label for="documentoIdentidad">Documento DNI/NIE:</label>
                    <input asp-for="DocumentoIdentificacion" type="text" class="form-control" placeholder="Ingresar DNI/NIE" id="idDocumento">
                    <span asp-validation-for="DocumentoIdentificacion" class="text-danger"></span>
                </div>

                <div class="form-group">
                    <label for="email">Email:</label>
                    <input asp-for="Email" type="email" class="form-control" placeholder="Ingresar email">
                    <span asp-validation-for="Email" class="text-danger"></span>
                </div>

                <div class="form-group">
                    <label for="telefono">Telefono:</label>
                    <input asp-for="Telefono" type="text" class="form-control" placeholder="Ingresar telefono" id="Idtelefono">
                    <span asp-validation-for="Telefono" class="text-danger"></span>
                </div>

                <div class="form-group">
                    <label for="paisResidencia">Pais residencia</label>
                    <input asp-for="PaisResidencia" type="text" class="form-control" placeholder="Pais residencia">
                    <span asp-validation-for="PaisResidencia" class="text-danger"></span>
                </div>

                <div class="form-group">
                    <label for="fecha">Fecha nacimiento</label>
                    <input asp-for="FechaNacimiento" type="date" class="form-control" placeholder="Fecha de nacimiento">
                    <span asp-validation-for="FechaNacimiento" class="text-danger"></span>
                </div>
                <br />
                <button type="submit" class="btn btn-primary">Guardar</button>
                <a asp-controller="Home" asp-action="Index" class="btn btn-warning">Volver a la lista</a>
            </form>
            <script>
                document.getElementById('formularioCreacion').addEventListener('submit', function (event) {
                    var documentoIdentificacion = document.getElementById('idDocumento').value;
                    console.log(documentoIdentificacion);

                    var regexDNI = /^[XYZ]?\d{7,8}[A-Z]$/i;
                    var dniValue = documentoIdentificacion.trim().toUpperCase();


                    if (!regexDNI.test(dniValue)) {
                        alert('Por favor introduce un DNI/NIE autentico');
                        event.preventDefault();
                    }

                    var numeroTelefono = document.getElementById('Idtelefono').value;
                    var regex = /^\d{10}$/;

                    if (!regex.test(numeroTelefono)) {
                        alert('Por favor introduce un número de telefono valido');
                        event.preventDefault();
                    }

                });
            </script>
        </div>
    </div>
</div>


